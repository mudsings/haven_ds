<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>Dead Souls Installation FAQ</title>
</head>
<body>
<pre style="font-family: times new roman,times,serif;"><big><big><span
 style="font-weight: bold;">Dead Souls Installation FAQ, v1</span></big><br><br>Written by Cratylus @ Frontiers, February 2006<br><br><br
 style="text-decoration: underline; font-weight: bold;"><span
 style="text-decoration: underline; font-weight: bold;">Is this FAQ really necessary?</span><br><br><small>Normally, no. If you just follow the instructions included in the<br>Dead Souls packages, you'll be fine 90% of the time. However, a<br>non-trivial number of folks have run into difficult circumstances. For<br>those folks, this document is meant to illuminate how the install<br>process works, why some things are as they are, and suggest some<br>solutions to the more common obstacles.</small><br><br><br><span
 style="font-weight: bold; text-decoration: underline;">Where do I get Dead Souls?</span> <br><small><br>Download the latest version from one of the following:</small><br><br></big><big><a
 href="http://dead-souls.sourceforge.net/">http://dead-souls.sourceforge.net/</a> </big><br><big><br></big><big><a
 href="http://www.mudmagic.com/codes/download/lpc/mudos/dead_souls">http://www.mudmagic.com/codes/download/lpc/mudos/dead_souls</a></big><br></pre>
<big style="font-family: times new roman,times,serif;"><small><br>
<big style="font-weight: bold; text-decoration: underline;">Should I
apply the available patches during an install?</big><br>
<br>
No. Patches are for already installed Dead Souls muds. A new Dead Souls
install does<br>
not need and must not use patches. If you're upgrading from one Dead
Souls<br>
version to another, please read the upgrade section further down in this<br>
document.<br>
<br>
<br>
<big style="font-weight: bold;"><span
 style="text-decoration: underline;">What's this Cygwin stuff?</span></big><br>
<br>
Don't bother with it. The Cygwin files are there strictly for legal
reasons, and they<br>
provide the average user absolutely no usefulness.<br>
<br>
The deal is that Dead Souls has a Windows version, which is packaged
using<br>
Cygwin software. Cygwin licensing requires that anything ported and
packaged<br>
with their binaries (which the Windows version includes), must also
provide<br>
the source code that these binaries came from.<br>
<br>
Fortunately, the source code doesn't have to be <span
 style="font-style: italic; font-weight: bold;">in</span> the
distribution. Making<br>
it downloadable from the same page satisfies their licensing. But their<br>
source code is very unlikely to be useful to you, unless you're very
proficient<br>
in the Cygwin environment and somehow managed to overlook having the<br>
sources.<br>
<br>
So, leave it alone.<br>
<br>
<br>
<big style="font-weight: bold; text-decoration: underline;">How do I
install the Windows version of Dead Souls?</big><br>
<br>
Easy.<br>
<br>
First make sure you are running Windows 2000 or above. Then:<br>
<br>
<span style="font-weight: bold;">1) </span>unzip the distribution file<br>
<br>
<span style="font-weight: bold;">2)</span> move and rename it so that
it is c:\ds, and that the folders c:\ds\bin<br>
&nbsp;&nbsp;&nbsp; and c:\ds\lib are where the binary and library files
are, respectively.<br>
<br>
<span style="font-weight: bold;">3) </span>run c:\ds\runmud.bat<br>
<br>
<span style="font-weight: bold;">4)</span> if you lack a favorite
telnet client, open a command line window by clicking on
Start-&gt;Run... and entering: cmd<br>
<br>
<span style="font-weight: bold;">5)</span> connect to your Windows
computer by telnetting to port 6666. If you are using the command<br>
&nbsp; &nbsp; window, type:<span style="color: rgb(0, 153, 0);"> <span
 style="font-weight: bold;">telnet localhost 6666</span></span><br>
<br>
<span style="font-weight: bold;">6)</span> Enter the name you want your
admin to have, and answer the questions provided. Make sure<br>
&nbsp;&nbsp;&nbsp; you are the first person to log in, because that
first person is automatically made admin.<br>
<br>
<span style="font-weight: bold;">7)</span> When you finish entering the
admin's info, the mud will automatically shut down.<br>
<br>
<span style="font-weight: bold;">8)</span> </small></big><big
 style="font-family: times new roman,times,serif;"><small> run
c:\ds\runmud.bat again<br>
<br>
<span style="font-weight: bold;">9)</span> log in as your admin
character.<br>
<br>
<span style="font-weight: bold;">10)</span> change your mud's name with
the admintool command. Navigate to the "driver" menu<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (as of this writing, it's option
4), and then the "change the MUD's name" option<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (as of this writing, it's option
r). Enter the name desired, allow the mud to shut down.<br>
<br>
<span style="font-weight: bold;">11)</span> </small></big><big
 style="font-family: times new roman,times,serif;"><small> </small></big><big
 style="font-family: times new roman,times,serif;"><small> run
c:\ds\runmud.bat (that's it for the mud reboots. come on, it's windows.
you're used to rebooting)<br>
<br>
<span style="font-weight: bold;">12)</span> log in, start reading the
handbook and the manual.<br>
<br>
<small style="font-weight: bold;"><br>
</small><big style="text-decoration: underline; font-weight: bold;">Hold
up, these Windows instructions aren't working</big><br>
<br>
There are a few common reasons for this.<br>
<br>
* Most Windows PC's these days have firewall software installed. If you
try to connect but<br>
aren't able to, there's a good chance your connection is being blocked
by your firewall. Disable<br>
your firewall temporarily and try to reconnect. If the problem goes
away, you know now that<br>
you have to somehow configure your firewall to allow incoming TCP
connections on port 6666.<br>
&nbsp; Note: You may also have to permit outbound UDP connections to
port 9000 on<br>
IP address 198.144.203.194 if you want your mud to join the Intermud3
network.<br>
<br>
*&nbsp; You might not be using c:\ds as your base directory. Make sure
you are. Putting the<br>
mud files on another drive or another folder will cause the mud not to
run. <br>
<br>
*&nbsp; Trying to use Windows 98, 95, Me, or 3.x will simply not work.
Sorry. Those are not<br>
server class operating systems and they use technology incompatible
with the mud's requirements.<br>
I have no idea if Dead Souls for Windows works on NT. If you try it and
it works,<br>
<a href="mailto:cratylus@users.sourceforge.net">please let me know</a>.<br>
<br>
*&nbsp; If you've made sure you've followed the directions, avoided the
"don'ts", and it<br>
still doesn't work, it may be that you have a Cygwin conflict. If you
already<br>
have Cygwin installed on your PC, the dll's provided in the c:\ds\bin
directory<br>
might be conflicting with your current version. Try moving the .dll
files in<br>
c:\ds\bin to some other folder and see if this fixes the problem. If it
doesn't, don't forget<br>
to put them back.<br>
<br>
*&nbsp; If the mud starts but you get lots of bizarre errors, there may
be a couple of<br>
reasons for this:<br>
<br>
&nbsp;&nbsp;&nbsp; - If the c:\ filesystem is NTFS, and the user you
logged in as does not<br>
&nbsp;&nbsp;&nbsp; own the ds:\ folder, things will fail in odd ways.
What is happening is that the<br>
&nbsp;&nbsp;&nbsp; mud is trying to write files in a folder it doesn't
have permission to, and<br>
&nbsp;&nbsp;&nbsp; things get all hosed up. Make sure you have
read/write privileges to the c:\ds<br>
&nbsp;&nbsp;&nbsp; folder.<br>
<br>
&nbsp;&nbsp;&nbsp; - Zip problems. Some unzipping utilities are known
to incorrectly decompress<br>
&nbsp;&nbsp;&nbsp; zip files. Specifically, sometimes an archive that
contains empty folders will<br>
&nbsp;&nbsp;&nbsp; not write those empty folders to your disk. This
could cause problems for the<br>
&nbsp;&nbsp;&nbsp; mud. If you get lots of errors and things don't work
right, and you are sure<br>
&nbsp;&nbsp;&nbsp; that you have read/write access to c:\ds, then try
reinstalling but with a different<br>
&nbsp;&nbsp;&nbsp; unzip utility.<br>
<br>
<br>
<big style="font-weight: bold; text-decoration: underline;">How do I
install the UNIX version of Dead Souls?</big><br>
<br>
First make sure of a couple of things:<br>
<br>
<big><span style="font-weight: bold;">*</span></big> DO NOT use
fileroller (a GUI based app) to decompress the tarball. If<br>
you ignore this warning you are very likely to end up with really<br>
confusing errors and problems. Instead use the normal unix command <br>
line. For example:<span
 style="font-weight: bold; color: rgb(0, 153, 0);"> tar xzf ds2.0.tar.gz</span><br>
<br>
<big style="font-weight: bold;">*</big> Don't use an existing driver
binary, even if its from a previous<br>
(or even the same) Dead Souls distribution. If you're doing a fresh<br>
install, always, always, always do the complete and exact installation
procedure,<br>
including the driver compile. If what you're looking to do is an<br>
upgrade, read the upgrade section further down in this document.<br>
<br>
Once we're set on those requirements and you've uncompressed the
tarball, <br>
we can continue with the installation procedure:<br>
<br>
<br>
<span style="font-weight: bold;">1)</span> cd to the directory where
all mud files reside. Called $MUDHOME<br>
&nbsp;&nbsp; in the rest of these UNIX instructions.<br>
<br>
<span style="font-weight: bold;">2)</span> cd to v22.2b14<br>
<br>
<span style="font-weight: bold;">3)</span> type ./configure<br>
<br>
<span style="font-weight: bold;">4)</span> type: make<br>
<br>
<span style="font-weight: bold;">5)</span> type: make install<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If this fails, just manually
copy the "driver" file<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; into $MUDHOME/bin/<br>
<br>
<span style="font-weight: bold;">6)</span> edit $MUDHOME/bin/mudos.cfg
(provided). The two lines to change are:<br>
mudlib directory and binary directory. For example, if your $MUDHOME<br>
is /home/joe/mud, then the mudlib directory line will look like this:<br>
<br>
/home/joe/mud/lib<br>
<br>
and bin:<br>
<br>
/home/joe/mud/bin<br>
<br>
<span style="font-weight: bold;">7)</span> edit $MUDHOME/bin/startmud
(provided) and change the $MUDHOME definition.<br>
<br>
<span style="font-weight: bold;">8)</span> manually run the mud:
$MUDHOME/bin/driver $MUDHOME/bin/mudos.cfg .<br>
&nbsp;&nbsp;&nbsp; If you properly edited the startmud script, you can
just type: <span style="color: rgb(0, 153, 0); font-weight: bold;">./startmud</span><br>
<br>
<span style="font-weight: bold;">9)</span>&nbsp; telnet to your
machine, using the port specified in mudos.cfg. For<br>
example:<span style="color: rgb(0, 153, 0); font-weight: bold;"> telnet
localhost 6666</span><br
 style="color: rgb(0, 153, 0); font-weight: bold;">
<br>
<span style="font-weight: bold;">10)</span> Create a new user. Just
answer the questions. Make sure you are<br>
the first person to log in, because that person is automatically<br>
given admin privileges.<br>
<br>
<span style="font-weight: bold;">11)</span> You'll get booted out.
Reboot the MUD, telnet back in, and you're<br>
now running Your Very Own MUD. If startmud is running, the MUD should<br>
restart automatically.<br>
<br>
<br>
<big style="font-weight: bold; text-decoration: underline;">I'm having
trouble getting Dead Souls for UNIX to work</big><br>
<br>
* first, stop using Fedora. Ha ha just kidding (not really).<br>
<br>
* most of the problems with unix installs involve permissions
conflicts. If<br>
you uncompress the tarball as root user, for example, then try to<br>
run it as an unprivileged user, the process won't be able to read<br>
and write to the directories it uses, and errors will result. <br>
&nbsp;&nbsp;&nbsp; If you uncompressed as root and want to run it as
another<br>
user (in this example, username: joe), then you'll want to cd to<br>
the directory that contains the mud directory and issue a chown<br>
command, like this:<br>
<br>
<span style="color: rgb(0, 153, 0); font-weight: bold;">su - root<br>
<br>
cd /home/joe</span><br style="color: rgb(0, 153, 0); font-weight: bold;">
<br style="color: rgb(0, 153, 0); font-weight: bold;">
<span style="color: rgb(0, 153, 0); font-weight: bold;">chown -R joe
ds2.0</span><br>
<br>
* if you don't follow the instructions, and instead use a previously<br>
compiled driver, you may skip a step which copies a unix-compatible<br>
mudos.cfg file over the default Windows-compatible mudos.cfg. <br>
To correct this, copy the template config into the proper<br>
directory:<br>
<br>
<span style="font-weight: bold; color: rgb(0, 153, 0);">cd
/home/joe/ds2.0</span><br
 style="font-weight: bold; color: rgb(0, 153, 0);">
<br style="font-weight: bold; color: rgb(0, 153, 0);">
<span style="font-weight: bold; color: rgb(0, 153, 0);">cp
bin/mudos.cfg.orig lib/secure/cfg/mudos.cfg</span><br>
<br>
Then edit </small></big><big
 style="font-family: times new roman,times,serif; color: rgb(51, 51, 0);"><small>lib/secure/cfg/mudos.cfg
to point to the correct bin and<br>
lib directories.<br>
<br>
* If you get a bunch of errors about a missing log directory, you<br>
probably used fileroller to uncompress the tarball. Fileroller is<br>
apparently the default uncompression utility for Fedora. Other<br>
Linux distros may also use it. Start your installation over and this<br>
time use the tar command line as directed in the installation<br>
instructions.<br>
<br>
* If you have trouble logging in and the driver complains about<br>
"Cost" functions and "economy", then you've run into a very odd<br>
bug that's still a bit mysterious. Somehow your /save/economy.o<br>
file has been corrupted. Uncompress the tarball into a temporary<br>
directory and copy the original economy.o over the corrupt<br>
one. Then please <a href="mailto:cratylus@users.sourceforge.net">email
</a>me about this. Only one user has ever had<br>
this problem, but apparently it happened twice, so if it happens<br>
to someone else, I can at least tell him he's not crazy.<br>
<br>
* If the driver craps out complaining about a hosed up swap<br>
file, you're probably running Fedora, and you probably haven't<br>
changed your hostname from the original "localhost.localdomain"<br>
or whatever nonsense they use.<br>
&nbsp;&nbsp;&nbsp; The problem is that the MudOS driver expects a swap
file<br>
name that includes your hostname (strictly speaking, your<br>
nodename) and it expects no punctuation in that name. If your<br>
machine name is localhost.localdomain, this will probably eventually<br>
generate a mud crash.<br>
&nbsp;&nbsp;&nbsp; If you're good at C++, you can edit lines 66 and 76
of<br>
v22.2b14/swap.c and correct this behavior. But the common sense fix is<br>
to stop being a noob and give your computer a proper nodename<br>
already.<br>
<br>
<br>
<big><span style="font-weight: bold; text-decoration: underline;">Why
does compiling MudOS for Dead Souls throw so many warnings?</span></big><br>
</small></big><big style="font-family: times new roman,times,serif;"><small><br>
Beats me. This is one of those complaints I don't really know how <br>
to respond to. At the end of the compile, you'll have a driver that<br>
works. It's been tested on GCC 2, 3, and 4. It's worked for Fedora<br>
Linux, SuSE Linux, and various versions of Solaris.<br>
&nbsp;&nbsp;&nbsp; It works. Ignore the compile schmutz. End of story.<br>
<br>
<br>
<big><span style="font-weight: bold; text-decoration: underline;">How
do I enable database support?</span></big><br>
<br>
I don't know. I don't understand databases at all, so it's pointless
for me<br>
to try to get that MudOS functionality working. If you develop a
procedure<br>
for it, please share it with me and I will document it so others can
benefit<br>
from your leetness.<br>
<big style="text-decoration: underline;"><br style="font-weight: bold;">
<br style="font-weight: bold;">
<span style="font-weight: bold;">How do I upgrade from one version of
Dead Souls to another?</span></big><br>
<br>
&nbsp;&nbsp;&nbsp; For the your convenience, patches are available to
move from one minor<br>
revision of Dead Souls to another. But there isn't a patch for every
possible<br>
upgrade.<br>
<br>
&nbsp;&nbsp;&nbsp; There is a patch to upgrade from ds2.0r12 to
ds2.0r14, for example, but there is no<br>
patch to upgrade from ds2.0r10 to ds2.0r14.<br>
<br>
&nbsp;&nbsp;&nbsp; As of now, there are no plans to make patches to
upgrade from one version<br>
of Dead Souls to another. For example, do not expect a ds2.0 -&gt;
ds2.1 patch.<br>
<br>
&nbsp;&nbsp;&nbsp; The upgrade principle for bot Windows and UNIX is
the same. Basically<br>
a Dead Souls patch is a pretty unsophisticated upgrade system. In the
case of<br>
the UNIX patch, it is a tar file which you untar over your lib/
directory, overwriting<br>
your current files with whatever has changed between releases.<br>
<br>
&nbsp;&nbsp;&nbsp; In the case of the Windows patch, it is a folder
called lib which you copy over<br>
your mud's c:\ds\lib folder.<br>
<br>
&nbsp;&nbsp;&nbsp; Sometimes just overwriting is insufficient to fully
bring up a previous release to<br>
the current release. In such cases, a daemon called update.c is
included, which<br>
contains instructions for detailed modification of specific files.
These instructions<br>
are read by the mud and executed automatically after reboot.<br>
<br>
&nbsp;&nbsp;&nbsp; Obviously, this kind of update patching is intended
for muds that do not<br>
do extensive lib system rewrites. For example, if you are running
ds2.0r8, and<br>
your mud creation has been limited to individual home directories and<br>
the domains/ directories, then an upgrade to ds2.0r10 and beyond will
be utterly<br>
painless.<br>
<br>
&nbsp;&nbsp;&nbsp; On the other hand, if you've done extensive
customizing of the player object,<br>
simulated efun subsystem, daemons, and so forth, then you may run into
problems<br>
after an update. The typical update patch does include some changes to
the<br>
player object, for example, so the indiscriminate overwriting of the
previous information<br>
with the updated files means that your work basically disappears.<br>
<br>
&nbsp;&nbsp;&nbsp; For this reason it is critical to always perform a
full backup of all your <br>
mud files before implementing a patch upgrade.<br>
<br>
&nbsp;&nbsp;&nbsp; Carefully follow the instructions included in the
patch releases to ensure<br>
optimal effect. Because these instructions are not expected to be
static, the<br>
details will not be included in this document.<br>
<br>
&nbsp;&nbsp;&nbsp; Read the doc/RELEASE_NOTES file to know what has
changed between<br>
releases and to determine whether an upgrade is worth the risk. Please
note<br>
that RELEASE_NOTES contains an overview of major changes. It does not<br>
document every difference between versions.<br>
<br>
<big style="font-weight: bold; text-decoration: underline;">Ok, it's
running. Now what?</big><br>
<br>
Read the <a href="ds-admin-faq.html">admin FAQ</a>. <br>
<br>
Log in and read the Player's Handbook.<br>
<br>
Then read the Creator's Manual.<br>
<br>
If you run into problems or have questions not addressed in the docs,
use the &lt;ds&gt; channel<br>
to ask for help. For example type:<br>
<br style="color: rgb(0, 153, 0);">
</small><span style="color: rgb(0, 153, 0);">ds Hi! I am a nooby and
would like help understanding the difference between the class data
type and mappings.<br>
<br>
</span><a href="index.html"><small>Dead Souls Homepage</small></a><br>
</big>
</body>
</html>
