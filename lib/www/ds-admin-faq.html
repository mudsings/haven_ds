<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>Dead Souls Admin FAQ</title>
</head>
<body>
<pre><big><big><span style="font-weight: bold;">Dead Souls Admin FAQ, v2</span></big><br><br>Written by Cratylus @ Frontiers, October 2005<br>Updated January 2006<br><span
 style="font-weight: bold; text-decoration: underline;"><br></span>Note: commands are displayed in boldface, like this: <span
 style="font-weight: bold;">ls -a</span><span
 style="font-weight: bold; text-decoration: underline;"><br><br>What's this FAQ about?</span><br><br>	The point of this document is to orient a new admin in<br>Dead Souls 2. Starting a MUD with a lib that is completely new to<br>you can be confusing and discouraging. Hopefully this FAQ will<br>make the experience less difficult.<br><br><br><span
 style="font-weight: bold; text-decoration: underline;">How do I start?</span><br><br>	Start by reading the <a
 href="ds-faq.html">Dead Souls FAQ</a> for some background<br>on where this lib came from and what you can do with it.<br><br><span
 style="font-weight: bold; text-decoration: underline;"></span><br><span
 style="font-weight: bold; text-decoration: underline;">What's the QCS?</span><br><br>Please see the <a
 href="example.html">QCS example page</a> for an explanation of this<br>important Dead Souls system.<br><br><br
 style="font-weight: bold; text-decoration: underline;"><span
 style="font-weight: bold; text-decoration: underline;">Is there a MUD somewhere running Dead Souls I can log into?</span><br><br>As a convenience to the curious, I have set up a "demo" mud<br>at dead-souls.net 6666 . To connect, either click on<br><a
 href="telnet://dead-souls.net:6666">this link</a> with your browser, or open a terminal window <br>(or for windows users, Start -&gt; Run ) and <br>type: <span
 style="font-weight: bold;">telnet</span> </big><big><span
 style="font-weight: bold;">dead-souls.net 6666<br><br></span></big><big>When you log in, the system will read your playerfile for<br>a few seconds and then it will turn you into a creator. This<br>is so that you can examine code, try out the QCS, etc. <br><br><span
 style="font-weight: bold; color: rgb(153, 0, 0);">Please note that in the regular, non-demo version of the</span><br
 style="font-weight: bold; color: rgb(153, 0, 0);"><span
 style="font-weight: bold; color: rgb(153, 0, 0);">mud, people are NOT automatically given creator status. </span><br><br>	On the regular non-demo version of the mud, Only<br>the admin (basically, the first person to log on to the new mud)<br>gets automatic creatorship. Another difference is that the<br>demo mud is set to reboot every eight hours or so. The<br>default reboot interval on the regular version is weeks long.<br><br>	After logging in, you will be transported<br>to your workroom. Some useful commands:<br><br
 style="font-weight: bold;"><span style="font-weight: bold;">look<br>look at me<br>look at chest<br
 style="font-weight: bold;"></span><span style="font-weight: bold;">open chest<br>look in chest<br
 style="font-weight: bold;"></span><span style="font-weight: bold;">get tricorder from chest</span><br
 style="font-weight: bold;"><span style="font-weight: bold;">read index in handbook</span><br
 style="font-weight: bold;"><span style="font-weight: bold;">read chapter 1 in handbook</span><br
 style="font-weight: bold;"><span style="font-weight: bold;">who</span><br
 style="font-weight: bold;"><span style="font-weight: bold;">stat</span><br
 style="font-weight: bold;"><span style="font-weight: bold;">wiz<br>create new npc generic<br>look at board<br>read 1 on board<br>home<br></span><br></big><big><br
 style="font-weight: bold; text-decoration: underline;"><span
 style="font-weight: bold; text-decoration: underline;">I want to invite my friends to help me code. How do I</span><br
 style="font-weight: bold; text-decoration: underline;"><span
 style="font-weight: bold; text-decoration: underline;">promote them to creator status?</span><br><br>	As admin, you have access to the admintool<br>command. This opens a menu-driven admin system you<br>can use to manage some basic aspects of your new MUD.<br><br>	Everything on admintool can be done with<br>commands, system calls, or file editing, but until<br>you get the hang of all that stuff, admintool<br>is a convenient shortcut. <br>	In this example, you would type: <span
 style="font-weight: bold;">admintool</span> , <br>then select option <span
 style="font-weight: bold;">3</span>, then option <span
 style="font-weight: bold;">l</span> (that's a lowercase "L").<br><br>	The oldfashioned way, if the new creator<br>were named dude, would be: <span
 style="font-weight: bold;">encre dude</span><br><br>	I know. But people like menus, so I made it.<br><br><br
 style="font-weight: bold; text-decoration: underline;"><span
 style="font-weight: bold; text-decoration: underline;">What about intermud? How do I talk on that?</span><br><br>	The intermud3 (or i3) network is available<br>to you, and you are probably already connected to it. Type<br><span
 style="font-weight: bold;">mudlist</span> to see a list of other muds on the network.<br><br>	By default, the "Dead Souls intermud channel" is<br>enabled for creators. Type: ds blah blah<br>and other Dead Souls muds on the i3 network will see<br>your message like this:<br><br><span
 style="font-weight: bold;">You@YourMud <span
 style="color: rgb(51, 51, 255);">&lt;ds&gt;</span> blah blah</span><br
 style="font-weight: bold;"><br>	To enable intergossip and intercre, read<br>/doc/README for instructions.<br><br>	Please note that intercre is where you ask coding<br>and technical questions only. Random chatting is not<br>tolerated on that channel. Newbie questions that are<br>Dead Souls specific or that obviously have answers in<br>Dead Souls documentation will meet a hostile reception on <br>intercre.<br><br>	Conversely, intergossip is mostly chat. Please<br>be warned that discussions on intergossip are usually <br>offensive, argumentative, and generally aggressive. <br>	This hostility is <span
 style="font-weight: bold; font-style: italic;">especially</span> sharp when you<br>are identified as a "newbie". You will almost certainly<br>be mocked and insulted no matter what you say, but<br>especially if your first messages betray you as <br>ignorant of intergossip standards and traditions. I<br>strongly recommend you lurk on this channel for a few<br>days before saying anything. Really, I recommend you<br>avoid it entirely.<br><br><br
 style="text-decoration: underline; font-weight: bold;"><span
 style="text-decoration: underline; font-weight: bold;">I talk on intermud but nobody replies. What's up with that?</span><br><br>I3 uses a hub topology. All muds communicating on intermud<br>connect to the router to do so. If that router is down all<br>I3 communication stops, until it comes back up.<br><br>There's also the possibility that nobody who wants to<br>chat is listening.<br><br><br
 style="font-weight: bold; text-decoration: underline;"><span
 style="font-weight: bold; text-decoration: underline;">What's this about a manual on Frontiers?</span><br><br>	It's no longer relevant. All the docs<br>we were making available on Frontiers are now included<br>in Dead Souls, starting from version 1.9r9.<br><br>	In your workroom is a chest. Open the<br>chest and the new Dead Souls Creators Manual is<br>inside. The text files are in /doc/manual .<br><br>	<br><span
 style="font-weight: bold; text-decoration: underline;"></span><span
 style="font-weight: bold; text-decoration: underline;">How do I add limbs to a race?</span><br><br>Edit /secure/cfg/races/&lt;race&gt;, then remove the race from the<br>races daemon, then add re-add the race. If you want players<br>to be able to play as this race, make sure you add the<br>numeral 1 on the addrace command. For example:<br><br><span
 style="font-weight: bold;">addrace jabberwock 1</span><br><br><br
 style="font-weight: bold; text-decoration: underline;"><span
 style="font-weight: bold; text-decoration: underline;">How do I make my friend an admin?</span><br><br>Use the groups menu in admintool, and select <br>"Modify a group". Select the ASSIST or SECURE group,<br>and enter the names of all the members it should have. If<br>I wanted to make xyzzy an assistant admin, I would edit the<br>ASSIST group and make the contents look like this:<br><br><span
 style="font-weight: bold;">cratylus:xyzzy<br><br></span>Xyzzy then needs to log out and log back in.<br><br>Obviously, Xyzzy needs to be a creator for this to be of any use,<br>so I would have <span
 style="font-weight: bold;">encre</span>'d him first.<span
 style="font-weight: bold;"><br></span><br><br
 style="font-weight: bold; text-decoration: underline;"><span
 style="font-weight: bold; text-decoration: underline;">I don't like how the who command output looks! How can I change it?</span><br><br>Believe it or not, I actually get questions like this. I also<br>get stuff like "my workroom is broken! fix it!"<br><br>	If there is something broken about the lib itself, such as<br>an insta-death bug or a command that crashes the mud, I am<br>happy and eager to hear about it, so I can implement the fix<br>in the next lib release.<br>	However, if the problem you're having is that the lib,<br>by design, behaves in a way not to your liking, this isn't something<br>I'm likely to "fix" for you. For example, if you want a "<span
 style="font-weight: bold;">who</span>"<br>command with a cooler look, that's up to you to make. You're<br>the one coding a mud, so you need to take it upon yourself to<br>understand the code and modify it to suit your tastes.<br>	Similarly, "orcs are too strong!" or "advancing levels<br>should increase your eyesight" are issues you need to deal<br>with on your own, using the coding skills learned from reading the<br>Creators Manual.<br><br><br
 style="font-weight: bold; text-decoration: underline;"><span
 style="font-weight: bold; text-decoration: underline;">All I did was change one thing in a file, and now it won't update. Help!</span><br><br>	You should make it a habit to make backup copies of files<br>before editing them. That way, if you screw up the code, you can<br>just copy the backup to the original filename.<br><br>	A convenient way to do this is the <span
 style="font-weight: bold;">bk</span> command. See<br>the <a
 href="debugging.html">debugging page</a> for an example of its use.<br><br>	If you are using Windows, you need to be aware of the<br>linefeed problem. unix text files and DOS text files have different<br>formatting. If you edit files in Notepad, then try to update them,<br>you may find that the file no longer updates, no matter what<br>you do. The difference is usually invisible to you, so you can't<br>tell why a file that looks exactly the same as before now won't<br>work.<br><br>	Dead Souls expects unix-formatted text, and if you feed it<br>something else, the results aren't likely to be to your<br>satisfaction. Make sure you use an editor that respects unix<br>text. In Windows 2000, WordPad seems to do a reasonable job of not<br>completely screwing things. It does, however, add carriage<br>returns to your lines, so when you look at them in ed, you'll<br>see a bunch of "<span
 style="font-weight: bold;">^M</span>"'s all over the place.<span
 style="font-weight: bold;"><br></span><br>	If you still have trouble, take a look at the <a
 href="debugging.html">debugging page.</a><br><br><span
 style="font-weight: bold;"></span><br><span
 style="font-weight: bold; text-decoration: underline;">The mud editor is confusing the heck out of me. It's too hard to use.</span><br><br>Check out the <a
 href="editor.html">MUD Editor tutor</a><a href="editor.html">ial</a>. It should ease the pain a little.<br><br><br><span
 style="font-weight: bold; text-decoration: underline;">Can you please make the FAQ easier to read? It's too long and complicated.</span><br><br>I'm a lib coder, not a web designer. Cut me slack. Or, edit it<br>for me and show me how it's done.<br><br><br><span
 style="font-weight: bold; text-decoration: underline;">How can I change the colors of the channel messages?</span><br><br>The colors are specified in /secure/daemon/chat.c<br><br><br><span
 style="font-weight: bold; text-decoration: underline;">How do I know what other muds use Dead Souls?</span><br><br><span
 style="font-weight: bold;"></span><br>Go to the arch room. Type: <span
 style="font-weight: bold;">arch<br><br></span>Then type</big><big>: <span
 style="font-weight: bold;">read screen<br></span></big><big><span
 style="font-weight: bold;"></span><br>This shows a list of muds that used Dead Souls and <br>joined intermud at some point. To see a list that<br>also includes obvious test muds, type: <span
 style="font-weight: bold;">read printout<br><br><br></span><span
 style="text-decoration: underline; font-weight: bold;">I was hanging out in the Arch room and the loudspeaker went off. WTF?</span><span
 style="font-weight: bold;"><br></span><br>Your mud receives all sorts of network requests from the <br>intermud network, such are remote who (asking who is logged on),<br>remote finger (info on users), locate (trying to find a user<br>somewhere on i3), etc. Whenever your mud receives such a request,<br>it is announced in the Arch room. Note that these are normal,<br>and do not represent an attempt to undermine your security.<br><br><br><span
 style="font-weight: bold; text-decoration: underline;">I want to test the intermud channel but I don't want to spam the ds line.</span><br><br>Type: <span
 style="font-weight: bold;">call me-&gt;AddChannel("ds_test")</span><br>Then type: <span
 style="font-weight: bold;">ds_test test</span><br><br>The ds_test channel is specifically for communication<br>testing so that ds can remain spam free.<br><br><br><span
 style="font-weight: bold; text-decoration: underline;">The web server and FTP server don't work</span><br><br>To enable them at mud boot time, uncomment the "inet" line in<br>/secure/cfg/preload.cfg<br><br>To enable it temporarily, type: <span
 style="font-weight: bold;">update /secure/daemon/inet</span><br><br>These server do not use the standard ports. The internet standard<br>http port is 80 and for ftp it is 21. Your mud ftp and web servers<br>do not use these. <br>	Instead, the network port for your web server is 5 less<br>than your mud's port, and the ftp port is 1 less.<br>	This means that if your mud is reached by telnetting<br>to port <span
 style="color: rgb(204, 0, 0);">6666</span>, your ftp server will be at <span
 style="color: rgb(204, 0, 0);">6665</span> and your web server<br>will be at <span
 style="color: rgb(204, 0, 0);">6661</span>.<br><br>Please note that the web and ftp server are not supported. They work,<br>but whatever security risk they pose is entirely on you.<br><br><br
 style="text-decoration: underline; font-weight: bold;"><span
 style="text-decoration: underline; font-weight: bold;">I tried to log in to the FTP server but I can't!</span><br><br>Make sure you use your mud name and mud password, not the<br>username and password of the computer you are on.<br><br><br><span
 style="text-decoration: underline; font-weight: bold;">I can't do anything with FTP. It just hangs there.</span><br><br>FTP is a funny sort of protocol. If you don't have a direct<br>connection to an FTP server (for example, you are behind a<br>firewall), you have to use PASV (or passive) mode. Unfortunately,<br>at this time, PASV is not implemented in the mud FTP server. <br><br><br><span
 style="font-weight: bold; text-decoration: underline;">The web server gives me a 404 but I know the directory is there.</span><br><br>Like the FTP server, the web server is a very simple program.<br>It does not do directory listings at all. If you request<br>a directory, and it can't find an "index.html" file, it<br>just errors out.<br><br>Let me make this point one final, excruciatingly clear time:<br><span
 style="font-weight: bold; font-style: italic;">If you need a webserver, use apache.</span> The mud www server is available<br>as a convenience, not as a production-quality standards-compliant<br>intarweb server.<br><br><span
 style="font-weight: bold;"></span><br><span
 style="font-weight: bold; text-decoration: underline;">Where can I get a Dead Souls mud hosted?</span><br><br>That's a heck of a good question. There are many mud hosting services<br>out there. I hear good things about <a
 href="http://www.mudmagic.com/hosting/">Kyndig</a>, but that isn't specific<br>to Dead Souls. A good host will have a high level of service, shell<br>and file transfer access, etc, for which you obviously will need<br>to pay money. There ain't no such thing as a free lunch.<br><br></big><big><br><span
 style="text-decoration: underline; font-weight: bold;">I moved a command from one directory to another. How do I get the new location recognized?</span><br><br>First, run update on the command in question.<br>then:<br>If it's not a verb: <span
 style="font-weight: bold;">update /daemon/command</span><br>If it's a verb: <span
 style="font-weight: bold;">update /daemon/verbs<br><br></span><br><span
 style="font-weight: bold; text-decoration: underline;">The mudtime is all wrong!</span><br><br>The <span
 style="font-weight: bold;">mudtime</span> command tells you what time it is in the game, not what time<br>it is in the real world.<br><br><br><span
 style="font-weight: bold; text-decoration: underline;">The time of day is all wrong!</span><br><br>If you used <span
 style="font-weight: bold;">admintool</span> to change your timezone and the time of day is still<br>wrong, you may be using an OS with timekeeping that Dead Souls doesn't<br>understand. If this is so, figure out how many hours off you are, and<br>enter that value into the EXTRA_TIME_OFFSET parameter in /secure/include/config.h<br><br><br><span
 style="font-weight: bold; text-decoration: underline;">Hey this is supposed to run on Windows but it doesn't!</span><br><br>There are three main causes for this:<br><br>1) You are using Windows 98, Me, or below. That's unsupported and won't work.<br><br>2) You edited secure/cfg/mudos.cfg with a Windows-style editor and now the driver can't read it.<br>   Copy the original mudos.cfg over the hosed one. If you need to change the mud's name,<br>   don't edit mudos.cfg. Use the <span
 style="font-weight: bold;">admintool</span> command.<br><br>3) You are trying to run Dead Souls in a directory other than c:\ds<br><br><br><span
 style="font-weight: bold; text-decoration: underline;">What happened to the roommaker and thingmaker?</span><br><br>They produced code that was often incompatible with QCS. They are no<br>longer supported.<br><br><br><span
 style="font-weight: bold; text-decoration: underline;">I keep getting 'Connection to address server (localhost 9999) refused.' </span><br><br>This is a harmless error. Dead Souls uses a program called addr_server to<br>try to resolve hostnames. However, hostname resolution is not important<br>to running the mud, so it's not automatically configured. If you run<br>addr_server with a specific port as an argument, and edit mudos.cfg to<br>point to that port for the addr_server, then reboot the mud, then you<br>will probably have hostname resolution in your mud.<br><br>However, not all OS'es handle name resolution the same, so this may not<br>work, even if you do everything exactly right. Either way, it doesn't<br>affect the mud.<br><br><br><span
 style="text-decoration: underline; font-weight: bold;">Every now and then I use a QCS command and it fails, then I try again later and it works. WTF?</span><br><br>This is a rather frustrating issue, because it happens very rarely<br>and when it does, the error data is limited. Please email me a log<br>of what happened so I can analyze it.<br><br><br><span
 style="font-weight: bold; text-decoration: underline;">When I log in, everything is screwed up, and I can't do anything!</span><br><br>This happens sometimes when you log out while carrying an object<br>with broken code. If for example, you are wearing a vest, and then you<br>edit the code for it, but it doesn't work anymore, then you log out,<br>what happens is the next time you log in the mud will try to restore an<br>item in your inventory that throws an error, and your login<br>gets stuck halfway.<br><br>If you find that when you log in things are all screwed up for<br>you, use the rescue login feature. For me, this means I would<br>login as <span
 style="font-weight: bold;">cratylus_rescue</span> instead of <span
 style="font-weight: bold;">cratylus</span>. My inventory<br>will get wiped before my playerfile is loaded, and I'll<br>be able to log in with no problems.<br><br><br><span
 style="font-weight: bold; text-decoration: underline;">Can I charge players a fee for playing on my mud?</span><br><br><big><big
 style="color: rgb(204, 0, 0);"><span style="font-weight: bold;">NO.</span></big></big> <br><br>Dead Souls uses MudOS, and MudOS has a license that specifically<br>and strictly forbids its use in a commercial way. I don't care how<br>you use the lib, but if you use it with MudOS, you need to comply<br>with MudOS licensing. If you were to port Dead Souls to some other<br>driver that allows commercial use, then you'd be all set.<br><br
 style="font-weight: bold; text-decoration: underline;"><span
 style="font-weight: bold; text-decoration: underline;">Can people donate money to me for the mud?</span><br><br><big><big><span
 style="color: rgb(204, 0, 0); font-weight: bold;">Yes.</span></big></big><br
 style="font-weight: bold;"><br>So long as there is no quid-pro-quo, or anything<br>about the transaction that is legally regarded as "commercial",<br>receiving money from people for the purpose of running the<br>mud is ok. However, I am not a lawyer, so read the MudOS<br>license yourself.<br><br><br
 style="font-weight: bold; text-decoration: underline;"><span
 style="font-weight: bold; text-decoration: underline;">I found a bug. For real. Can you please fix it?</span><br><br>Email me: &lt;put my name here&gt;@users.sourceforge.net<br><br>Please include a detailed description of the bug, and the exact<br>error text and commands that produced it. A log file or<br>screencap would be helpful.<br><br></big><big><br><span
 style="font-weight: bold; text-decoration: underline;">How are files organized in Dead Souls?</span><br><br>	<span
 style="font-weight: bold;">cd /</span> and <span
 style="font-weight: bold;">ls</span> to view the top level directory. The<br>list may be largely meaningless to you, so let's review it here:<br><br><span
 style="color: rgb(0, 102, 0); font-weight: bold;">cfg/</span><br><br>General configuration files for timezone and such.<br><br><span
 style="color: rgb(0, 102, 0); font-weight: bold;">cmds/</span><br><br>Main location of commands that don't require special access<br>privileges. Commands are different from verbs in that they tend<br>not to manipulate your environment, but rather deal with <br>the player's relationship to the system and/or files.<br><br><br><span
 style="font-weight: bold; color: rgb(0, 102, 0);">daemon/</span><br><br>Daemons are files that provide access to data files in an<br>organized way. For example, adding an occupational class <br>(like, say, assassin) to the game needs to be done in a<br>precise way in order for it not to break things. By sending<br>the data to the daemon first, you can be sure that the<br>new system configuration is entered properly. Daemons also<br>provide a means to access data, like "how much is silver<br>worth compared to gold", that is uniform across the mud, and <br>prevents accidental overwrites of data files by multiple<br>editors.<br><br><br><span
 style="font-weight: bold; color: rgb(0, 102, 0);">doc/</span><br><br>General documentation. <br><br><br
 style="font-weight: bold; color: rgb(0, 102, 0);"><span
 style="font-weight: bold; color: rgb(0, 102, 0);">domains/</span><br><br>This is where MUD game areas go when they are complete<br>and ready for general play by the public. Once here, only<br>admins have write access to the files. <br><br><br><span
 style="font-weight: bold; color: rgb(0, 102, 0);">ftp/</span><br><br>The base for the MUD ftpd. Using the ftpd is probably dangerous<br>in terms of your system security, and I discourage it, but if<br>you are determined to have mud ftp access for your creators, <br>this is one way. See /secure/lib/net for the actual server. It<br>may or may not work. I won't support it.<br><br><br><span
 style="font-weight: bold; color: rgb(0, 102, 0);">include/</span><br><br>Include files provide a set of constants for your files. For<br>example, if you include &lt;damage_types.h&gt;, you can specify in<br>the code for your chainmail that it protects against<br>the damage type "BLADE" at a certain level.<br><br><br><span
 style="font-weight: bold; color: rgb(0, 102, 0);">lib/</span><br><br>This is the heart of the Dead Souls lib. This is the location<br>of the files that your objects, be they swords, shoes, or <br>handguns, will use as their configuration base. <br><br><br><span
 style="color: rgb(0, 102, 0); font-weight: bold;">log/</span><br><br>Log files.<br><br><br><span
 style="font-weight: bold; color: rgb(0, 102, 0);">news/</span><br><br>Announcements are made here. For example, in /news/creator<br>you can post a notice that you have added a teleportation<br>spell, and when your creators log on, they will see the message.<br><br><br><span
 style="font-weight: bold; color: rgb(0, 102, 0);">obj/</span><br><br>Contains some important templates, especially some for the QCS.<br><br><span
 style="font-weight: bold; color: rgb(0, 102, 0);">open/</span><br><br>Legacy directory. Kept for compatibility. Historically this<br>directory has served as a place where creators can put code<br>for others to freely modify.<br><br><br><span
 style="font-weight: bold; color: rgb(0, 102, 0);">realms/</span><br><br>This is where creator home directories are.<br><br><br><span
 style="font-weight: bold; color: rgb(0, 102, 0);">save/</span><br><br>Files that describe properties of the MUD's systems live<br>here. The number of limbs that a bat has, for example, <br>is in races.o. In classes.o you'll find the skill ranges<br>for fighters. Do not edit these files. They must be<br>modified by daemons only, or you risk corrupting them.<br><br><br><span
 style="font-weight: bold; color: rgb(0, 102, 0);">secure/</span><br><br>This directory will be described in a separate section below.<br><br><br><span
 style="color: rgb(0, 102, 0); font-weight: bold;">shadows/</span><br><br>Shadows are a controversial feature of LPC. This directory<br>is designed for shadow objects, but they should be very<br>rarely, if ever used. Basically shadow objects are objects<br>that attach themselves to another object, intercepting<br>function calls. For obvious reasons this is a security <br>risk, so unless you really <span
 style="font-style: italic;">really</span> know what you're doing, <br>avoid them.<br><br><br><span
 style="font-weight: bold; color: rgb(0, 102, 0);">spells/</span><br><br>Pretty self explanatory. The spells daemon looks for spells here.<br><br><br><span
 style="font-weight: bold; color: rgb(0, 102, 0);">tmp/</span><br><br>A directory anyone can write to. Generally for swapping<br>data between objects, systems, or people.<br><br><br><span
 style="font-weight: bold; color: rgb(0, 102, 0);">verbs/</span><br><br>Another controversial topic. Verbs are a kind of command. For<br>example, <span
 style="font-weight: bold;">go</span> and <span
 style="font-weight: bold;">sit</span> and <span
 style="font-weight: bold;">open</span> are verbs. Specifically, verbs<br>are commands that interact with the user's environment. The<br>idea is that <span
 style="font-weight: bold;">throw my first red rock at the green goblin</span><br>should work, and should work the same everywhere on the<br>MUD. Verbs are a source of debate among some people, because<br>to folks accustomed to add_action commands, verbs seem<br>excessively complex.<br><br><span
 style="font-weight: bold; color: rgb(0, 102, 0);">www/</span><br><br>Like the ftp directory, but for the MUD webserver.<br><br><br>	Ok now let's take a quick look at the /secure directory: <span
 style="font-weight: bold;">ls /secure</span> <br>As you can see, /secure seems to have many of the same directories <br>that the root filesystem has. <br>	The reason a /secure directory is needed is that<br>there are files that should not be readable by everyone, and<br>there are files that must be writable only by a few. The MUD security<br>system uses the /secure directory as a means to control access to <br>such files.<br>	For example, the average creator has no business <br>accessing the player data files of other creators or players. Therefore<br>/secure/save/creators and /secure/save/players is offlimits to them.<br><br>	A directory without a counterpart in / is /secure/sefun. This<br>is where simulated external functions reside. <br><br><br><span
 style="font-weight: bold; text-decoration: underline;">What are sefuns and efuns?</span><br><br></big><big>	First let me explain that the driver has built-in<br>functions that are available to the mud. For example,<br>type <span
 style="font-weight: bold;">eval return find_player("cratylus")</span> , but replace my name<br>with yours. Your player object pointer will be found and returned<br>to you (more or less. strictly speaking it's more complicated).<br>	The driver provides this function. Because it is "external"<br>to the mudlib, that is, it's in the driver and not the lib, <br>it is called an external function, or more commonly, "efun". The<br>idea is that certain actions you ask the mud to perform are<br>so common that they are made available MUD-wide.<br><br>	Efuns are ridiculously useful and powerful, and because<br>they are in the driver as compiled code, very fast. A near-complete<br>set of efun documentation is available in /doc/efun. <br><br>	However, the driver does not contain every possible<br>MUD-wide function you might want. For example, there is a <br>tell_object() efun, which lets you send a message to an object<br>such as a player. The syntax is something like this:<br><br>tell_object(find_player("cratylus"),"Hi.");<br><br>	Which doesn't look like much, but believe me, this<br>kind of stuff adds up. I wanted to make this simpler, so I<br>used what is called a sefun, or a simulated efun. It is<br>a function that is available lib-wide, but it isn't in<br>the driver. Instead it is provided by the lib itself (the<br>master daemon, specifically). By adding the appropriate code<br>in /secure/sefun/ I have now made available a tell_player() sefun,<br>which works like this:<br><br>tell_player("cratylus","Hi.")<br><br>	This simplification of code will become more obviously<br>useful to you as you get more coding under your belt. Most<br>sefuns are documented in /doc/sefun.<br></big><big><br><br><br
 style="font-weight: bold; text-decoration: underline;"><span
 style="font-weight: bold; text-decoration: underline;">Whew! Ok now I know where stuff is. What's next?</span><br><br>	You probably want to examine how objects are written.<br>Type <span
 style="font-weight: bold;">goto /domains/town/room/road</span> and wander around town<br>a bit. If you want to see the code for something, for example,<br>the beggar, <span
 style="font-weight: bold;">about beggar</span> should do it, provided the beggar is<br>in the room.<br><br>	To see the filenames of the objects around you,<br>type scan here, or scan me to scan your own inventory. <br><br>	If you've never coded before, this is the hard part.<br>To understand what you're looking at when you run commands like <br><span
 style="font-weight: bold;">more /domains/town/weap/orcslayer.c</span> you need to get comfortable<br>with LPC. <br>	The brute force way of doing this is copying stuff<br>and then changing the descriptions, thus making new stuff.<br>This will work, but you'll waste time looking for examples of<br>exactly what you want to do..and you may not find them. <br>	Instead, learning LPC will let you create whatever<br>you want, without relying on templates.<br><br>	This means that now you must read the LPC Basic<br>manual, then the LPC Intermediate manual. As admin, your<br>creators will expect you to know what's in there.<span
 style="text-decoration: underline;"><br><span
 style="text-decoration: underline;"><span
 style="text-decoration: underline;"><span
 style="text-decoration: underline;"><br></span></span></span></span>	On your person or in the chest in your workroom is<br>the Creators Manual. Read both the Players Handbook and<br>the Creators Manual from cover to cover.<span
 style="text-decoration: underline;"><span
 style="text-decoration: underline;"></span><br></span><br><br
 style="font-weight: bold; text-decoration: underline;"><span
 style="font-weight: bold; text-decoration: underline;">Oh, man, you're kidding! Those are, like, books! Can't I</span><br
 style="font-weight: bold; text-decoration: underline;"><span
 style="font-weight: bold; text-decoration: underline;">just start making stuff?</span><br>	<br>	Well...ok. But you need to go through the docs<br>soon, ok? In the meantime, read the QCS chapters in the <br>Creators Manual to get you quick-started in the creation <br>process. Remember you need to be holding your Creator <br>Staff in order to access the QCS commands.<br><br>	Other useful tools in your chest are a remote<br>control and a medical tricorder. <br><br></big><big><br><span
 style="font-weight: bold; text-decoration: underline;">Everything is su-u-u-u-p-e-e-r-r-r s-s-l-o-o-o-o-w-w-w</span><br><br>First, make sure you are using the latest available version of<br>Dead Souls (check <a
 href="http://www.mudmagic.com/codes/download/lpc/mudos/dead_souls">here</a> or <a
 href="http://sourceforge.net/project/showfiles.php?group_id=148388">here</a>). Older versions of Dead Souls<br>are known to have nasty memory leaks.<br><br>Next, see if you have runaway objects. An object can be coded<br>to do really unpleasant stuff like replicate itself over and<br>over until it brings the mud to its knees. Find out how many<br>objects are loaded by typing: <span
 style="font-weight: bold;">eval return sizeof(objects())</span><br><br>If the count is in the thousands, and only a few people are<br>logged on, you've got a runaway. Most often this involves<br>NPC's doing stuff you didn't expect. Destroy all loaded npc's<br>with the following command: <br><span
 style="font-weight: bold;">eval return filter(objects(), (: inherits("/lib/npc",$1) :))-&gt;eventDestruct()</span><br><br>If the lag clears up, you found the culprit. If not, see if<br>the callouts list is clogged with the command: <span
 style="font-weight: bold;">callouts</span><br><br>If all else fails, reboot the mud and ask for help on the ds line.<br><br>Please note that the rage virus (especially if unleashed<br>in the menagerie) is notorious for redlining the mud. Having<br>hundreds of NPC's all engaging in simultaneous combat<br>while infecting each other with a rapidly spreading hostility<br>virus can be expected to impact overall performance. So please try<br>to avoid the rage virus unless you are specifically stress testing<br>your system.<br><br></big><big><br><span
 style="font-weight: bold; text-decoration: underline;">Is Dead Souls secure?</span><br><br>	The short answer is no, nothing I know of is "secure" in the<br>sense that you don't need to continually pay attention to it. If the<br>question is "Is Dead Souls particularly unsafe to run?" then the<br>answer is no. Just like any other Internet program you use, Dead Souls<br>is not an obvious security risk, so long as it is not used carelessly.<br>And, obviously, games of any kind, including Dead Souls, should never<br>be installed on any mission-critical, national security, public<br>safety, or health care server. <br><br>	Dead Souls security involves two separate spheres:<br><br>1) The binary executable and the system that runs it.<br><br>2) The mudlib and the code that you use and create.<br><br>	The first sphere is probably most important. Presumably<br>you plan to run a mud on a computer that does other things too, <br>and you want to keep those things separate from your mud. The <br>most important thing to do is to avoid running Dead Souls as a<br>privileged user. In the case of Windows, this means that the<br>program should not be run by Administrator or anyone in the<br>Administrator group.<br>	For unix users, this means that the driver should not run<br>under uid 0 (root). <br><br>	The reason for this precaution is that if some genius<br>hacker manages to exploit some unknown weakness in the program, <br>it is better that the process they hack doesn't have full admin<br>privileges to the box.<br>	This caution has little to do with Dead Souls specifically.<br>It is a warning I'd give to anyone planning to run any kind of network<br>server. You should take your own security seriously, and<br>if you do not understand your own security situation, you need to take<br>a step back and ask yourself if running a mud at all is a good idea.<br><br>	Sphere 2 is lib security. In older muds, file and directory <br>privileges were handled by attributes on the files. If a file's<br>user id (UID) matched a user's UID, then that user had full access<br>to it. Such systems often had complex systems that evaluated<br>effective UID (EUID) based on the file's attributes, its parent<br>directory, the user's ID, possibly group id, etc. This is an<br>entirely valid security model, but because of its complexity,<br>it tended to be exploited easily and often. If you don't<br>stay 100% on top of such a system (just like any OS), there's<br>no way to be sure you won't rooted.<br><br>	With stack security, privilege management is much, much<br>easier. A file's privilege is based solely on its location. If<br>a user doesn't have read access to /foo/bar/ then she can't read<br>or modify /foo/bar/file.c. If someone with privs to that location<br>copies the file to somewhere else, then the privs of that new location<br>are in force on the file.<br>	The "stack" part of stack security comes from the mud<br>evaluating the privileges of <span
 style="font-weight: bold; font-style: italic;">all the objects involved in the</span><br
 style="font-weight: bold; font-style: italic;"><span
 style="font-weight: bold; font-style: italic;">access request</span>. If you're unprivileged and you manage to get a <br>privileged object to make the access request for you, the access <br>will fail, because you are unprivileged, and you are still part <br>of the function call stack (i.e., the list of instructions that<br>form a chain between the command and the intended event).<br><br>	Granular (more detailed) modification of user privileges<br>can be done by changing files in /secure/cfg to grant <br>users and groups specific privileges.<br></big><br></pre>
<big>
</big>- Cratylus<br>
<br>
<a href="index.html">Dead Souls Homepage</a><br>
</body>
</html>
