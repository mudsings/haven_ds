<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>Patches?!?</title>
  <link rel="icon" href="./favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
</head>
<body>
<pre style="font-family: courier new,courier,monospace;"><big><big><big
 style="font-weight: bold;">Patches?!?<br></big></big></big><font
 size="+1"><span class="sb_messagebody"><br><br>For the impatient, you may skip down to the "Summary"<br>section at the bottom of this post.<br><br><br><span
 style="font-weight: bold; text-decoration: underline;">The Disclaimer</span><br>The first thing to understand is that I don't profit<br>from DS, and I'm the only guy developing the core lib.<br>I'm not saying this because I want sympathy. I'm<br>saying it because this makes me have a very tight<br>focus on what I can and can't do within the short<br>time I've been granted here on Earth.<br><br>My goal is to make Dead Souls the best, most kick-ass<br>LPC lib ever. I interpret this to mean that when I<br>see a flaw, or someone else points one out, I want<br>it fixed. And, well, the fixing falls to me.<br><br><br><span
 style="font-weight: bold; text-decoration: underline;">The History</span><br>Over the past year, what this has meant is that I<br>fix a given version, and after a while of fixes<br>accumulating, I declare it to be a new release and<br>off it goes, into the world. At first this caused a<br>lot of grumbling, because it meant people had to<br>reinstall from scratch every time I made a release,<br>and this was a bit much for many people.<br><br>It occurred to me that I could compile a package that<br>had only the files that changed between releases. I<br>put this together, and people seemed to really like<br>being able to upgrade from one release to another,<br>without a full reinstall. Over time, this system<br>has been tweaked and refined somewhat, but in the<br>end, it's roughly the same type of thing it was back<br>when I produced the first one: a bunch of files.<br><br><br><span
 style="font-weight: bold; text-decoration: underline;">The Mechanics</span><br>The patching process is just as primitive as it<br>sounds. You uncompress these files and copy them<br>over your existing mud. Simple. Efficient.<br><br>Player files, directories, and domains that are<br>created by you are left untouched.<br><br>For some people this system is problematic. Some folks<br>are proficient at modifying lib code, and if they<br>just overwrite their mud with the contents of a patch,<br>they might find that their lib work has been clobbered. This<br>would be bad. That is why my patch instructions<br>strenuously remind people to back up the current mud<br>before patching it.<br><br>There is no practical solution for this problem that<br>I can see. Because I am just one guy, and my goal<br>is lib code, and not patch-process-design, I have<br>decided to leave things as they are. In theory I could<br>write code that would analyze and modify files as<br>needed, rather than simply have the owner overwrite.<br>However, this is a lot more complicated than it sounds<br>to implement in LPC within the lib, and it is also<br>non-trivial to implement this at the OS level, given<br>that the process would have to work on multiple different<br>platforms.<br><br>It's my opinion that people sophisticated enough to<br>need a more specialized patching system are<br>sophisticated enough to work around my shortcomings<br>in this area. Indeed, I've heard of folks who just<br>download the complete new version, run diffs against the<br>old one, and then pick and choose what to add.<br><br>For now and the foreseeable future, upgrades are just<br>a Big Dumb Ball of Files...with one exception.<br><br>Each patch includes a file called /secure/daemon/update.c<br>which carries out special functions that are not dealt<br>with by just overwriting files. When you reboot the mud,<br>update.c will do things like remove broken/dangerous files,<br>rename files with incorrect names, and modify text in<br>files (such as config.h) which should not be overwritten<br>but need to be changed.<br><br><br><span
 style="font-weight: bold; text-decoration: underline;">The Philosophy and Controversy</span><br>Believe it or not, I've had people become irrationally<br>angry at how often I make releases. Not just "That darn<br>Crat is driving me crazy", but actual, unhinged flaming<br>well beyond any reasonable context.<br><br>Don't believe me? Check it out for yourself:<br><br><a
 href="http://www.justrage.com/article.php?story=cratylus_dead_souls_mudlib">http://www.justrage.com/article.php?story=cratylus_dead_souls_mudlib</a><br><br><br>It *is* true that I'm averaging a release every week<br>or two. The person is correct in that there are a lot<br>of bugs to fix, and that releases happen much, much<br>more often than they do for other muds.<br><br>I have no defense against this charge. All I can do<br>is explain the reason for it, and hope it is justification<br>enough.<br><br>When someone tells me Dead Souls has a bug, I want to<br>help them. I want to fix it. I feel responsible to the<br>mud community to do what I can to fix whatever problems<br>they've run into because they've adopted the lib I<br>wanted them to. This is probably irrational on my part,<br>and if I'm lucky, I'll stop feeling this way sometime<br>soon. But until I do, I feel driven to be a responsive<br>lib coder, and I fix stuff. And I release it.<br><br>The question is, "If Dead Souls is so lame it needs<br>constant patching, shouldn't you kill it?"<br><br>The thing is, Dead Souls is the best LPmud lib out<br>there that I know of, *right now*. If the standard is<br>going to be perfection, then there's no lib out there<br>that should be available. There's no LPC mudlib<br>out there that you can download that is as featured,<br>solid, widely adopted, and supported as Dead Souls. If<br>the criteria for killing a lib is that it's not<br>perfect, and if Dead Souls is among the libs to be killed,<br>then just about everything needs a good flush.<br><br>It should be noted that Dead Souls doesn't *need*<br>constant patching. With the exception of security<br>fixes, any patch, upgrade, or hotfix is entirely<br>optional. You can stop patching and upgrading at<br>any time, and strike out in your own direction with<br>the lib. And as a matter of fact, I'd be tickled<br>pink if you did. The sprouting of evolutionary branches<br>off Dead Souls would delight me, because it would be<br>good evidence that I have begun something that's<br>going to continue beyond what I've done with my own<br>little brain.<br><br><br><span
 style="font-weight: bold; text-decoration: underline;">Summary<br><br></span>* Yes, I'm a bit defensive on this topic. To me, "there<br>are too many updates" sounds a lot like "stop working on<br>the lib", which (I think, understandably) makes me testy.<br><br>* Dead Souls is fine just the way it is. If you don't<br>want to update, don't. As it is, right now, it's better<br>than any other LP lib I know of that you can download.<br><br>* If you do update, make sure you back up your mud.<br><br>* If you have ideas about how I can make the update<br>process less painful, KEEP THEM TO YOURSELF. I am not in<br>the business of patch/upgrade design, and, I'm sorry,<br>but I am not going to spend more time on it. All I<br>want to do is make DS the best ever.<br><br>* If you want to design and write a less painful upgrade method<br>that I can implement on DS, that's great. Let me know<br>about it so that I can avoid doing anything that makes<br>your work more difficult. Just don't expect me to work on<br>it *with* you.<br><br><br>I know this sounds a bit harsh...I hope you folks know<br>me well enough that you'll forgive a bit of the rudeness.<br><br>What it boils down to is a decision on where my time is<br>spent, and I'm pretty much sticking to my original plan.<br><br>For what it's worth, the vast majority of upgraders that<br>follow the patch install instructions report nothing<br>but a smooth process.<br><br></span>	</font><big> 	<br><a
 href="../index.html">Dead Souls Homepage</a><br><br></big></pre>
</body>
</html>
